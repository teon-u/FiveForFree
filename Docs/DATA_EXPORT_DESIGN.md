# ë°ì´í„° ë‚´ë³´ë‚´ê¸° ê¸°íšì„œ

**ì‘ì„±ì¼**: 2025-12-21
**ì‘ì„±ì**: ë¶„ì„íŒ€ì¥
**ë²„ì „**: v1.0

---

## 1. ê°œìš”

### 1.1 ëª©ì 

ì‚¬ìš©ìê°€ ì˜ˆì¸¡ ë°ì´í„°ë¥¼ **CSV/Excel í˜•ì‹ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ì—¬ ì™¸ë¶€ ë¶„ì„ ë„êµ¬ì—ì„œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›

### 1.2 ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

| ì‹œë‚˜ë¦¬ì˜¤ | ì„¤ëª… |
|----------|------|
| ë°±í…ŒìŠ¤íŒ… | ë‹¤ìš´ë¡œë“œí•œ ì˜ˆì¸¡ì„ ìì²´ ê²€ì¦ ì‹œìŠ¤í…œì— í™œìš© |
| í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ | Excelì—ì„œ ì˜ˆì¸¡ ê¸°ë°˜ íˆ¬ì ì „ëµ ì‹œë®¬ë ˆì´ì…˜ |
| ê¸°ë¡ ë³´ê´€ | ì¼ì¼ ì˜ˆì¸¡ ê²°ê³¼ ì•„ì¹´ì´ë¹™ |
| ë¦¬í¬íŠ¸ ì‘ì„± | íˆ¬ì ì˜ì‚¬ê²°ì • ê·¼ê±° ë¬¸ì„œí™” |

---

## 2. ë‚´ë³´ë‚´ê¸° ì˜µì…˜ ì„¤ê³„

### 2.1 íŒŒì¼ í˜•ì‹

| í˜•ì‹ | í™•ì¥ì | ìš©ë„ | ì¥ì  |
|------|--------|------|------|
| CSV | .csv | ë²”ìš© | ê°€ë²¼ì›€, ëª¨ë“  ë„êµ¬ í˜¸í™˜ |
| Excel | .xlsx | ë¶„ì„ìš© | ì„œì‹, ìˆ˜ì‹, ì‹œíŠ¸ ì§€ì› |
| JSON | .json | ê°œë°œììš© | í”„ë¡œê·¸ë˜ë° ì—°ë™ |

### 2.2 ë°ì´í„° ë²”ìœ„

| ë²”ìœ„ | ì„¤ëª… |
|------|------|
| í˜„ì¬ í™”ë©´ | í•„í„°/ì •ë ¬ ì ìš©ëœ ê²°ê³¼ |
| ì „ì²´ ë°ì´í„° | ëª¨ë“  ì˜ˆì¸¡ (í•„í„° ë¬´ì‹œ) |
| ì„ íƒëœ í‹°ì»¤ | ì²´í¬ë°•ìŠ¤ ì„ íƒ í•­ëª© |
| ê´€ì‹¬ëª©ë¡ | ì €ì¥ëœ ê´€ì‹¬ í‹°ì»¤ |

---

## 3. UI/UX ì„¤ê³„

### 3.1 ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ ìœ„ì¹˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ì˜¤ëŠ˜ì˜ ìš”ì•½                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í•„í„°: [ìƒìŠ¹] [í•˜ë½] | [ì„¹í„°â–¼] | [í™•ë¥ â–¼] | [ì •ë ¬â–¼]                  â”‚
â”‚                                                     [ğŸ“¥ ë‚´ë³´ë‚´ê¸°]   â”‚  â† ì—¬ê¸°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ë‚´ë³´ë‚´ê¸° ëª¨ë‹¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ ë°ì´í„° ë‚´ë³´ë‚´ê¸°                                            [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ íŒŒì¼ í˜•ì‹                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚ â”‚ â— CSV   â”‚  â”‚ â—‹ Excel â”‚  â”‚ â—‹ JSON  â”‚                              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                     â”‚
â”‚ ë°ì´í„° ë²”ìœ„                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â— í˜„ì¬ í™”ë©´ (23ê°œ) - í•„í„°/ì •ë ¬ ì ìš©ëœ ê²°ê³¼                     â”‚ â”‚
â”‚ â”‚ â—‹ ì „ì²´ ë°ì´í„° (150ê°œ) - ëª¨ë“  ì˜ˆì¸¡                              â”‚ â”‚
â”‚ â”‚ â—‹ ê´€ì‹¬ëª©ë¡ (8ê°œ) - ì €ì¥ëœ í‹°ì»¤                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚ í¬í•¨ í•­ëª©                                                           â”‚
â”‚ â˜‘ ê¸°ë³¸ ì •ë³´ (í‹°ì»¤, ê°€ê²©, ë³€ë™ë¥ )                                   â”‚
â”‚ â˜‘ ì˜ˆì¸¡ ì •ë³´ (í™•ë¥ , ë°©í–¥, ë“±ê¸‰)                                     â”‚
â”‚ â˜‘ ëª¨ë¸ ì„±ëŠ¥ (Precision, Signal Rate)                               â”‚
â”‚ â˜ ìƒì„¸ ëª¨ë¸ë³„ ê²°ê³¼ (XGB, LGBM, LSTM, Transformer)                 â”‚
â”‚ â˜ ê°€ê²© íˆìŠ¤í† ë¦¬ (60ë¶„)                                             â”‚
â”‚                                                                     â”‚
â”‚ íŒŒì¼ëª…                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ fiveforfree_predictions_2025-12-21                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚                    [ì·¨ì†Œ]        [ğŸ“¥ ë‹¤ìš´ë¡œë“œ]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ì§„í–‰ë¥  í‘œì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ ì¤‘...                                              â”‚
â”‚                                                                     â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  65%                      â”‚
â”‚                                                                     â”‚
â”‚ 150ê°œ í‹°ì»¤ ì¤‘ 98ê°œ ì²˜ë¦¬                                            â”‚
â”‚ ì˜ˆìƒ ì‹œê°„: ì•½ 5ì´ˆ                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ë°ì´í„° ì»¬ëŸ¼ ì •ì˜

### 4.1 ê¸°ë³¸ ì»¬ëŸ¼

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| ticker | string | í‹°ì»¤ ì‹¬ë³¼ | NVDA |
| name | string | íšŒì‚¬ëª… | NVIDIA Corporation |
| current_price | number | í˜„ì¬ê°€ | 142.50 |
| change_percent | number | ë³€ë™ë¥  (%) | 5.20 |
| volume | number | ê±°ë˜ëŸ‰ | 45200000 |

### 4.2 ì˜ˆì¸¡ ì»¬ëŸ¼

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| prediction_direction | string | ì˜ˆì¸¡ ë°©í–¥ | UP / DOWN |
| probability | number | ì˜ˆì¸¡ í™•ë¥  (%) | 82.5 |
| practicality_grade | string | ì‹¤ìš©ì„± ë“±ê¸‰ | A / B / C / D |
| best_model | string | ìµœì  ëª¨ë¸ | xgboost |
| trading_signal | string | ë§¤ë§¤ ì‹ í˜¸ | BUY / SELL / HOLD |

### 4.3 ëª¨ë¸ ì„±ëŠ¥ ì»¬ëŸ¼

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|------|
| precision | number | ì ì¤‘ë¥  (%) | 68.0 |
| signal_rate | number | ì‹ í˜¸ ë°œìƒë¥  (%) | 15.0 |
| predictions_count | number | ì˜ˆì¸¡ íšŸìˆ˜ | 48 |

### 4.4 ìƒì„¸ ëª¨ë¸ ì»¬ëŸ¼ (ì„ íƒ)

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| xgb_probability | number | XGBoost í™•ë¥  |
| xgb_precision | number | XGBoost ì ì¤‘ë¥  |
| lgbm_probability | number | LightGBM í™•ë¥  |
| lgbm_precision | number | LightGBM ì ì¤‘ë¥  |
| lstm_probability | number | LSTM í™•ë¥  |
| lstm_precision | number | LSTM ì ì¤‘ë¥  |
| transformer_probability | number | Transformer í™•ë¥  |
| transformer_precision | number | Transformer ì ì¤‘ë¥  |

### 4.5 ë©”íƒ€ë°ì´í„°

| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| export_timestamp | datetime | ë‚´ë³´ë‚´ê¸° ì‹œê°„ |
| data_timestamp | datetime | ë°ì´í„° ê¸°ì¤€ ì‹œê°„ |
| filters_applied | string | ì ìš©ëœ í•„í„° |

---

## 5. Excel ì‹œíŠ¸ êµ¬ì¡°

### 5.1 ë‹¤ì¤‘ ì‹œíŠ¸ êµ¬ì„±

| ì‹œíŠ¸ëª… | ë‚´ìš© |
|--------|------|
| Summary | ìš”ì•½ í†µê³„ |
| Predictions | ì „ì²´ ì˜ˆì¸¡ ë°ì´í„° |
| Models | ëª¨ë¸ë³„ ì„±ëŠ¥ ìƒì„¸ |
| Metadata | ë‚´ë³´ë‚´ê¸° ì •ë³´ |

### 5.2 Summary ì‹œíŠ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FiveForFree ì˜ˆì¸¡ ë¦¬í¬íŠ¸                    â”‚
â”‚ ìƒì„±ì¼: 2025-12-21 14:30:00               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ í‹°ì»¤ ìˆ˜:        150                    â”‚
â”‚ ìƒìŠ¹ ì‹ í˜¸:         23 (32%)               â”‚
â”‚ í•˜ë½ ì‹ í˜¸:         12 (17%)               â”‚
â”‚ Aë“±ê¸‰:             8                      â”‚
â”‚ Bë“±ê¸‰:             15                     â”‚
â”‚ í‰ê·  í™•ë¥ :         74.5%                  â”‚
â”‚ í‰ê·  Precision:    52.3%                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ì¡°ê±´ë¶€ ì„œì‹ (Excel)

| ê·œì¹™ | ì¡°ê±´ | ì„œì‹ |
|------|------|------|
| ë“±ê¸‰ A | practicality_grade = "A" | ë…¹ìƒ‰ ë°°ê²½ |
| ë“±ê¸‰ D | practicality_grade = "D" | ë¹¨ê°„ ë°°ê²½ |
| ìƒìŠ¹ | direction = "UP" | ë…¹ìƒ‰ í…ìŠ¤íŠ¸ |
| í•˜ë½ | direction = "DOWN" | ë¹¨ê°„ í…ìŠ¤íŠ¸ |
| ê³ í™•ë¥  | probability >= 80 | êµµì€ í…ìŠ¤íŠ¸ |

---

## 6. ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

### 6.1 ExportModal.jsx

```jsx
import { useState } from 'react'
import { useSettingsStore } from '../stores/settingsStore'
import { exportToCSV, exportToExcel, exportToJSON } from '../utils/exportUtils'

const FORMATS = ['csv', 'xlsx', 'json']
const RANGES = ['current', 'all', 'watchlist']

export default function ExportModal({ predictions, onClose }) {
  const { language } = useSettingsStore()
  const [format, setFormat] = useState('csv')
  const [range, setRange] = useState('current')
  const [includeBasic, setIncludeBasic] = useState(true)
  const [includePrediction, setIncludePrediction] = useState(true)
  const [includeModel, setIncludeModel] = useState(true)
  const [includeDetailedModels, setIncludeDetailedModels] = useState(false)
  const [includeHistory, setIncludeHistory] = useState(false)
  const [filename, setFilename] = useState(
    `fiveforfree_predictions_${new Date().toISOString().split('T')[0]}`
  )
  const [isExporting, setIsExporting] = useState(false)
  const [progress, setProgress] = useState(0)

  const handleExport = async () => {
    setIsExporting(true)
    setProgress(0)

    try {
      // ë°ì´í„° ì¤€ë¹„
      const data = await prepareExportData(predictions, {
        range,
        includeBasic,
        includePrediction,
        includeModel,
        includeDetailedModels,
        includeHistory,
        onProgress: setProgress,
      })

      // í˜•ì‹ì— ë”°ë¼ ë‚´ë³´ë‚´ê¸°
      switch (format) {
        case 'csv':
          exportToCSV(data, filename)
          break
        case 'xlsx':
          await exportToExcel(data, filename)
          break
        case 'json':
          exportToJSON(data, filename)
          break
      }

      onClose()
    } catch (error) {
      console.error('Export failed:', error)
    } finally {
      setIsExporting(false)
    }
  }

  return (
    <>
      <div className="modal-backdrop" onClick={onClose} />

      <div className="fixed inset-x-4 top-1/2 -translate-y-1/2 max-w-lg mx-auto bg-surface rounded-2xl shadow-2xl z-50 p-6">
        {isExporting ? (
          // ì§„í–‰ë¥  í‘œì‹œ
          <div className="text-center py-8">
            <div className="text-lg font-bold mb-4">ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ ì¤‘...</div>
            <div className="w-full bg-surface-light rounded-full h-2 mb-2">
              <div
                className="bg-blue-500 h-2 rounded-full transition-all duration-300"
                style={{ width: `${progress}%` }}
              />
            </div>
            <div className="text-sm text-gray-400">{progress}%</div>
          </div>
        ) : (
          <>
            {/* í—¤ë” */}
            <div className="flex items-center justify-between mb-6">
              <h2 className="text-xl font-bold">ğŸ“¥ ë°ì´í„° ë‚´ë³´ë‚´ê¸°</h2>
              <button
                onClick={onClose}
                className="text-gray-400 hover:text-white"
              >
                âœ•
              </button>
            </div>

            {/* íŒŒì¼ í˜•ì‹ */}
            <div className="mb-6">
              <div className="text-sm font-semibold text-gray-300 mb-2">
                íŒŒì¼ í˜•ì‹
              </div>
              <div className="flex gap-2">
                {FORMATS.map((f) => (
                  <button
                    key={f}
                    onClick={() => setFormat(f)}
                    className={`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${
                      format === f
                        ? 'bg-blue-500 text-white'
                        : 'bg-surface-light text-gray-400 hover:bg-slate-600'
                    }`}
                  >
                    {f.toUpperCase()}
                  </button>
                ))}
              </div>
            </div>

            {/* ë°ì´í„° ë²”ìœ„ */}
            <div className="mb-6">
              <div className="text-sm font-semibold text-gray-300 mb-2">
                ë°ì´í„° ë²”ìœ„
              </div>
              <div className="space-y-2">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    name="range"
                    checked={range === 'current'}
                    onChange={() => setRange('current')}
                    className="accent-blue-500"
                  />
                  <span>í˜„ì¬ í™”ë©´ ({predictions?.length || 0}ê°œ)</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    name="range"
                    checked={range === 'all'}
                    onChange={() => setRange('all')}
                    className="accent-blue-500"
                  />
                  <span>ì „ì²´ ë°ì´í„°</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="radio"
                    name="range"
                    checked={range === 'watchlist'}
                    onChange={() => setRange('watchlist')}
                    className="accent-blue-500"
                  />
                  <span>ê´€ì‹¬ëª©ë¡</span>
                </label>
              </div>
            </div>

            {/* í¬í•¨ í•­ëª© */}
            <div className="mb-6">
              <div className="text-sm font-semibold text-gray-300 mb-2">
                í¬í•¨ í•­ëª©
              </div>
              <div className="space-y-2">
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="checkbox"
                    checked={includeBasic}
                    onChange={(e) => setIncludeBasic(e.target.checked)}
                    className="accent-blue-500"
                  />
                  <span>ê¸°ë³¸ ì •ë³´ (í‹°ì»¤, ê°€ê²©, ë³€ë™ë¥ )</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="checkbox"
                    checked={includePrediction}
                    onChange={(e) => setIncludePrediction(e.target.checked)}
                    className="accent-blue-500"
                  />
                  <span>ì˜ˆì¸¡ ì •ë³´ (í™•ë¥ , ë°©í–¥, ë“±ê¸‰)</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer">
                  <input
                    type="checkbox"
                    checked={includeModel}
                    onChange={(e) => setIncludeModel(e.target.checked)}
                    className="accent-blue-500"
                  />
                  <span>ëª¨ë¸ ì„±ëŠ¥ (Precision, Signal Rate)</span>
                </label>
                <label className="flex items-center gap-2 cursor-pointer text-gray-500">
                  <input
                    type="checkbox"
                    checked={includeDetailedModels}
                    onChange={(e) => setIncludeDetailedModels(e.target.checked)}
                    className="accent-blue-500"
                  />
                  <span>ìƒì„¸ ëª¨ë¸ë³„ ê²°ê³¼</span>
                </label>
              </div>
            </div>

            {/* íŒŒì¼ëª… */}
            <div className="mb-6">
              <div className="text-sm font-semibold text-gray-300 mb-2">
                íŒŒì¼ëª…
              </div>
              <input
                type="text"
                value={filename}
                onChange={(e) => setFilename(e.target.value)}
                className="w-full px-4 py-2 bg-surface-light rounded-lg text-white"
              />
            </div>

            {/* ë²„íŠ¼ */}
            <div className="flex gap-3">
              <button
                onClick={onClose}
                className="flex-1 px-4 py-2 bg-surface-light text-gray-400 rounded-lg hover:bg-slate-600"
              >
                ì·¨ì†Œ
              </button>
              <button
                onClick={handleExport}
                className="flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium"
              >
                ğŸ“¥ ë‹¤ìš´ë¡œë“œ
              </button>
            </div>
          </>
        )}
      </div>
    </>
  )
}
```

### 6.2 exportUtils.js

```javascript
// CSV ë‚´ë³´ë‚´ê¸°
export function exportToCSV(data, filename) {
  const headers = Object.keys(data[0])
  const csvContent = [
    headers.join(','),
    ...data.map(row =>
      headers.map(h => {
        const val = row[h]
        // ì‰¼í‘œ í¬í•¨ ì‹œ ë”°ì˜´í‘œë¡œ ê°ì‹¸ê¸°
        return typeof val === 'string' && val.includes(',')
          ? `"${val}"`
          : val
      }).join(',')
    )
  ].join('\n')

  downloadFile(csvContent, `${filename}.csv`, 'text/csv;charset=utf-8;')
}

// Excel ë‚´ë³´ë‚´ê¸°
export async function exportToExcel(data, filename) {
  // xlsx ë¼ì´ë¸ŒëŸ¬ë¦¬ ë™ì  import
  const XLSX = await import('xlsx')

  const workbook = XLSX.utils.book_new()

  // Summary ì‹œíŠ¸
  const summaryData = generateSummary(data)
  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData)
  XLSX.utils.book_append_sheet(workbook, summarySheet, 'Summary')

  // Predictions ì‹œíŠ¸
  const predictionSheet = XLSX.utils.json_to_sheet(data)
  XLSX.utils.book_append_sheet(workbook, predictionSheet, 'Predictions')

  // ì¡°ê±´ë¶€ ì„œì‹ (xlsx-style ì‚¬ìš© ì‹œ)
  // applyConditionalFormatting(predictionSheet)

  // ë‹¤ìš´ë¡œë“œ
  XLSX.writeFile(workbook, `${filename}.xlsx`)
}

// JSON ë‚´ë³´ë‚´ê¸°
export function exportToJSON(data, filename) {
  const jsonContent = JSON.stringify(data, null, 2)
  downloadFile(jsonContent, `${filename}.json`, 'application/json')
}

// íŒŒì¼ ë‹¤ìš´ë¡œë“œ í—¬í¼
function downloadFile(content, filename, mimeType) {
  const blob = new Blob([content], { type: mimeType })
  const url = URL.createObjectURL(blob)
  const link = document.createElement('a')
  link.href = url
  link.download = filename
  document.body.appendChild(link)
  link.click()
  document.body.removeChild(link)
  URL.revokeObjectURL(url)
}

// ìš”ì•½ ë°ì´í„° ìƒì„±
function generateSummary(data) {
  const upCount = data.filter(d => d.prediction_direction === 'UP').length
  const downCount = data.filter(d => d.prediction_direction === 'DOWN').length
  const gradeA = data.filter(d => d.practicality_grade === 'A').length
  const avgProb = data.reduce((sum, d) => sum + d.probability, 0) / data.length

  return [
    ['FiveForFree ì˜ˆì¸¡ ë¦¬í¬íŠ¸'],
    ['ìƒì„±ì¼', new Date().toISOString()],
    [],
    ['ì´ í‹°ì»¤ ìˆ˜', data.length],
    ['ìƒìŠ¹ ì‹ í˜¸', upCount, `${((upCount / data.length) * 100).toFixed(1)}%`],
    ['í•˜ë½ ì‹ í˜¸', downCount, `${((downCount / data.length) * 100).toFixed(1)}%`],
    ['Aë“±ê¸‰', gradeA],
    ['í‰ê·  í™•ë¥ ', `${avgProb.toFixed(1)}%`],
  ]
}

// ë°ì´í„° ì¤€ë¹„
export async function prepareExportData(predictions, options) {
  const { range, includeBasic, includePrediction, includeModel, onProgress } = options

  let data = predictions

  // ë²”ìœ„ì— ë”°ë¥¸ ë°ì´í„° ì„ íƒ
  if (range === 'all') {
    data = await fetchAllPredictions()
  } else if (range === 'watchlist') {
    data = await fetchWatchlistPredictions()
  }

  // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸í•˜ë©° ë°ì´í„° ë³€í™˜
  const result = []
  for (let i = 0; i < data.length; i++) {
    const item = data[i]
    const row = {}

    if (includeBasic) {
      row.ticker = item.ticker
      row.name = item.name
      row.current_price = item.current_price
      row.change_percent = item.change_percent
      row.volume = item.volume
    }

    if (includePrediction) {
      row.prediction_direction = item.direction?.toUpperCase()
      row.probability = item.probability
      row.practicality_grade = item.practicality_grade
      row.best_model = item.best_model
      row.trading_signal = getTradingSignal(item)
    }

    if (includeModel) {
      row.precision = item.hit_rate
      row.signal_rate = item.signal_rate
      row.predictions_count = item.predictions_count
    }

    result.push(row)

    // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
    if (onProgress) {
      onProgress(Math.round(((i + 1) / data.length) * 100))
    }
  }

  return result
}
```

---

## 7. API ìš”êµ¬ì‚¬í•­

### 7.1 ì „ì²´ ë°ì´í„° API

#### GET /api/predictions/export

**Parameters:**
- `format`: csv, xlsx, json
- `include_models`: boolean

**Response:** íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë˜ëŠ” JSON

### 7.2 ì„œë²„ì‚¬ì´ë“œ ë‚´ë³´ë‚´ê¸° (ëŒ€ìš©ëŸ‰)

```python
# FastAPI ì—”ë“œí¬ì¸íŠ¸
@router.get("/predictions/export")
async def export_predictions(
    format: str = "csv",
    include_models: bool = False,
):
    predictions = await get_all_predictions()

    if format == "csv":
        return StreamingResponse(
            generate_csv(predictions),
            media_type="text/csv",
            headers={"Content-Disposition": "attachment; filename=predictions.csv"}
        )
```

---

## 8. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

### 8.1 ëŒ€ìš©ëŸ‰ ë°ì´í„°

| ë°ì´í„° í¬ê¸° | ì „ëµ |
|-------------|------|
| < 100ê°œ | í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì²˜ë¦¬ |
| 100-1000ê°œ | í”„ë¡œê·¸ë ˆìŠ¤ ë°” í‘œì‹œ |
| > 1000ê°œ | ì„œë²„ì‚¬ì´ë“œ ìƒì„± í›„ ë‹¤ìš´ë¡œë“œ ë§í¬ |

### 8.2 ë©”ëª¨ë¦¬ ìµœì í™”

```javascript
// ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ CSV ìƒì„±
function* generateCSVRows(data) {
  yield Object.keys(data[0]).join(',') + '\n'
  for (const row of data) {
    yield Object.values(row).join(',') + '\n'
  }
}
```

---

## 9. êµ¬í˜„ ì¼ì •

### Phase 1: ê¸°ë³¸ êµ¬ì¡° (1ì¼)
- [ ] ExportModal.jsx êµ¬í˜„
- [ ] ê¸°ë³¸ UI/UX

### Phase 2: CSV ë‚´ë³´ë‚´ê¸° (ë°˜ë‚˜ì ˆ)
- [ ] exportToCSV í•¨ìˆ˜
- [ ] íŒŒì¼ ë‹¤ìš´ë¡œë“œ

### Phase 3: Excel ë‚´ë³´ë‚´ê¸° (1ì¼)
- [ ] xlsx ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ë™
- [ ] ë‹¤ì¤‘ ì‹œíŠ¸ ìƒì„±
- [ ] ì¡°ê±´ë¶€ ì„œì‹

### Phase 4: ìµœì í™” (ë°˜ë‚˜ì ˆ)
- [ ] í”„ë¡œê·¸ë ˆìŠ¤ ë°”
- [ ] ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
- [ ] ì—ëŸ¬ í•¸ë“¤ë§

---

## 10. í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

| í•­ëª© | í™•ì¸ |
|------|------|
| ë‚´ë³´ë‚´ê¸° ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° | [ ] |
| CSV íŒŒì¼ ìƒì„± | [ ] |
| CSV í•œê¸€ ì¸ì½”ë”© | [ ] |
| Excel íŒŒì¼ ìƒì„± | [ ] |
| Excel ë‹¤ì¤‘ ì‹œíŠ¸ | [ ] |
| JSON íŒŒì¼ ìƒì„± | [ ] |
| íŒŒì¼ëª… ì»¤ìŠ¤í„°ë§ˆì´ì§• | [ ] |
| í”„ë¡œê·¸ë ˆìŠ¤ ë°” | [ ] |
| 100ê°œ+ ë°ì´í„° ì²˜ë¦¬ | [ ] |
| ëª¨ë°”ì¼ ë‹¤ìš´ë¡œë“œ | [ ] |

---

*ì´ ë¬¸ì„œëŠ” ë¶„ì„íŒ€ì¥ì´ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.*
